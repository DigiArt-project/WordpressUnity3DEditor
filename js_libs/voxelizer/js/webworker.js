eval((function(x){var d="";var p=0;while(p<x.length){if(x.charAt(p)!="`")d+=x.charAt(p++);else{var l=x.charCodeAt(p+3)-28;if(l>4)d+=d.substr(d.length-x.charCodeAt(p+1)*96-x.charCodeAt(p+2)+3104-l,l);else d+="`";p+=4}}return d})("var bufferModel = null, numberOfVoxels = 0, voxelSize` )\"scaleMesh = 1, boundingbox` ]%obj` \\!izer` ,%flagMeshInitialzed = true` 5\"Is` K$d = fals` 0%Optim` +*overallProgres`!b#` &+Prev` 3\"`\".$Polygon` H#procesNew`!Z%stat`\">$tateObj = {}, OBJECT_SIZE = 300, NUMBER_OF_POLYGONS_PER_CYCLE = 50, STATE_VOXELIZER_ID` 6!` )-`#D\"` &*_CLEANUP = 2` X.GENER` *%_MESH = 3`! /NIT` >#DATA = 4` =$INITIA`!'!` Y#5, lookupAO = [[[4194304, 2621440, 267264, 528896, 2098688, 2360320, 79052` ,!59808, 786944], ` e&8912` Z!1065984, 542720, 8391680, 9438208, 1589248` -!9232, 1574912` e)` \"#0, 8585216, 33701888, 67190784, 755630` r!00679`!&!75628544` 0!794368` o)35651584, 2195456, 16846848, 33591296, 503357` b!893990` $\"07136, 52428800]], [[16384`\"I!065` 8\"3` L!47206`\"\"!91392`\"](5244928, 996147`\"[*` j#2080, 104` '!6`#]!5`\"I!60` -!8, 38, 205`$-!` P#131104, 656`$1!31`#=!65`$\\!6582` ?\"34`#f!` =\"456` X'851`#H\"42008576, 713687`#=!787`%F#143424`#q!`$!&9051`\"Z!`$#$`\"~$, 34, 17412, 18434, 3`!f!`\",\"1639`\"4!`\"W\"`\"-$, 10, 5121, 4610, 1`$y#33, 4099, 521, 515` I%36, 98312, 36992, 69`\"j!65608, 4288, 32840, 32960` R%`!F!96`$S\"2176, 147`%n!1676`#6*60`#?!`\"=\"40`%v!2`$P\"1, 53` &!`\"R!`!i!529, 1`!b&` L\"2097664, 4457`%H!4719`\"u!2622464`)H'44569`%<!883`!Q!`)I'` i\"129`&I!357171` %!77815` l!10370`'r!`'P%2100`\"k\"`'Q$`'|!6441`%Q!` q\"3277`#;\"72` \"!`$m!29`#_!2`([!`#V#20`#P!84`(:#6553`)!587` 7!2097` Y#5655`&F!632422`!@*`)9(`)+,, ` n&685`\"8!71319552`+>!594`$A!2713`,2!`'%&`*y3`'3#` p'131`!l!131`#C!16` E\"6`*D!`(]$`%P#`%D(`!S'`-W\"3279`!S!76, 4`-6!`&Z&`&[,`(K\"024, 51`)a!13, 4106, ` p!`&#!`'p'11`':!` M!205`!e!4`(u!641`$-!`&B\"`!b!`({(3`-Y!`!$#263`\"P!2584`&>!8929280, 5259`0D#`,Q#`/8.`,c#` d(4`&&!6291968, 4460`#;!262`\"w\"`0x$`'K&`0z+]]`1}&Indices = [22, `\"t!, `+H!`*~#0, 1, 2, 3, 5, 6, 7, 8, `).#13, 15, 17, 18, 19, 20, 21, 23, `#9!5, 26];function startProcesses(state, obj) {self.p` 7!New = {` :!:` >#data:obj || null};}` n%update` n&) {var objVoxelizerLocal;o` \", = `!3!` -(;if (`!?+!==`!1!`!`$`!P!` U$` >%` 1\";` 8&Obj` 3.data` >\"`\"B(null;}switch`!8#` ^!) {case` _\"STATE_INITIALIZE_MESH:` a's3DModel` V'Obj);break;` Y,VOXELIZER` n!` )\"_DATA` m\"init`\"m%` d*.numberOf` ;!s,` p\"` 5%voxelSize` z<`!#\"` J!izeMesh(`!K>GENER` *%`\"Y'generate`!P!` `)default` A\"`$P)`\"Y-DLE;}`&2&` a/`&8\"a, entries, flagFaceVisible, lkp, isInv` ,\"` Y!, vertex`)>$Vertices, size, face` 4$Fa` 4!offsetX, horSample` `!` #$dep` #$hor, id` :!` 4!` U$Y` ^$Z, scale, xNormal, yN` \"#z` *$bytesPerV`!c#buffer, ` \"\"View, colo` \"%unter`%>$obj, bitfieldSurrounding` +&` E!Enclosed, index`!#%` =#AO`,>&`)a!, corner`,N-` 7#`%{!, `&P\"tart` %#End, polygon, i, j`!^!`*U*` 9%`\"R!oxel`*W&`\"P\"`(m!`*W(`+!B`$U# = - (0.5 *`!+..`\"\\!MaximumHorizontal)` V#Y` 3F`&'\"` Q&Z` 1FDepth);`&N' = [[4`/s!1`0%!`0'%` \"#], [`0/\"2` 2!` 0&` #\"`4O!`0M!3` >!` 7\"-` >%-` ]!7`10!0` @!` 0(` Z&`19(`!4)` 9#7`!?!5` `$` V+]];`'B* = 3 * Float32Array.BYTES_PER_ELEMENT + 3 ` \"?2` F@4 * Uint8` ,3`#o#`'b#`& $` -$` 5%`'d(` 5,` 5#;`(n1 = 1 <<`(D1[0] |` $71]` \"92` @:3` @:4` @:5];`+O) =`'2/`. #` <!.length;`)}, =`.&(` ?# * 2`*<&`1e%`*?!`)x-`2#' {` ,.`*~\"Ind`&:!0;` 0.`,\"`!F#` -0`!7&`!8#` (%`![&` D)`\"M(Export) {lkp`+t0` :/;`1r# = lkp`#2$for (a`!^! a <`26$; a += 1) {delete lkp[a];}}` h@ = []`\"\"!`$N.`#5\"` o&` *4;}` \"4 = new `(x!B` -!(`%i**`/M- *`*:!`*k*);}s`#z\"`-k\"`$)7`)M#`4U$`-f!-`4[#`4b\"size], [size,` /'` $,` P\"], ` Q+` &.` 4(` \\&` J(` $.` L6` 3#];`#;%`#`5` <\"View`#c#`-%((`$Y#;colo` 9(`-'&` :%`42&` z1`(9&` D\"End =`4_\"` O\"+`$-\"NUMBER_OF_POLYGON`.'\"CYCLE;scale` j1` 5!`&`!` u%> `%\\)) {`!.'` .);}`(5!` :!`!H);` &\" <` \"\"End` *$`(I#if `&`+- 1 <= 0`+A%verallProgress = 1;} else` (50.5 +`!!#* (0.5 /` t/));}`+3&` W+-`'Z#` )*Prev >= 0.01 ||` }#==`\"a+` y!`!I2` ]!`+|$` -*`-1\"postMessage({cmd:\"p`!L$`!)!izer\", ` -$:` V0});}ho`'!2`+t([` m!].horizontal;v`'W3` C0v`*<!al;dep` ,Edepth;id = \"\" + (dep << 20) | ver << 10 | hor`-?3dictionaryL` v(id]`$8!) {bitfieldSurrounding`/2!`/2,27`/2'i`2a%`3\\+a];horSamp`(Y!hor + (-1 + i % 3);ve` 5&ve` 5&(i / 3 >> 0)` D\"dep` A%dep` <*9` D\")`\"S!`!)&>= 0 && ` |&` *$` d&`\"R#`#K*` 5#`#S(` )&`#]$` ,\"`#>I.hasOwnProperty(id)`#^3|= 1 << i;}`)(!a`(I!5 && `$/1==` /%`!&!Enclosed`$[5-1;break` y#` 10!= -1) {lk`&e>`4-\";lkp[lkp.length] = {`(;&:hor, `'v$:ver, `'R!:dep}`&>\"fac`3'!; ` %!<`&2#Faces` o#` 4#`&V#flagFaceVisib`%Y!tru`$0\"`\" 1&`#R\"`&{1face])`#H!` &6 &&`4I8 >`!@4false`-u\"` ,-=`!q\"`$C'AO`)/&corn`+[!0; ` %#< 4` #%`\"c#obj`)>'`!g'[` B\"];entries`$g\"`#F$`*+,` >#`*4(`#26obj[a`#,#` $$`!w(`'?$`!<\"`&I%}xNormal`!g%`${!`!g#7];y` $78];z` $79]`\",\"polygon`\"2\"` %$< 2` #&`%y$`3~!ertex` G\"` %#< 3` #%`\"a$ndexV` C$` y%== 0 ?` D$` '$0 :` '(1 ? 1 : 3` )*0` 0#` ;+2 : 3;`./&`\"6(`!;'];j`)E1bufferIndex * 9;`%U\"`0dA;` V\"View[j] = (offsetX +`%q!`*%& +`!V#V`*-!es[i][0]) * scale` ]) + 1` c'Y` g#`*e$` W11` R62` a'Z` e#`+F!` T12` ^'`\"lA + 3`\"X-`'-#`\"\"1`'*#`!R1`''#` qE6`!)-`&K)`%p!||` &+ 3`&L#1`!K1` >@1` Y%j`#X!`!H?8) * Float32Array.BYTES_PER_ELEMENT;colo`\"!'255` '(`!Y$` %.`#7!` %.3] `2A&AO;`!I:+= 1;}}}}}`2A\"`'_!End`\"`!counter`'y\") {`/Q!postMessage({cmd:\"` O!_info\", numberOf` O\":`2Q@`.B#, dimension:`#J/`$(!MaximumH`(x(1 + \"x\" +`#0` J(`'l\"` N\")` -DD`(N#1)).toString()})`%# = ` #\".slice(0, bytesPer`%r#*`'6:);`#:8B` D!\",` ~#:` S\"`#\\&P`.=\"`#T0`$z(/ 3, ` l!Data:{`#x(`#~A, gridWidth` =/`$%2` N\"Height` 6;`$2$` M\"`#n!` 3;` ?!}}, [`\"B\"]);if`):6) {delete`#t5;}` \"4 = null`$B\"state = ` (!STATE_VOXELIZER_IDLE;} else {`!i3` /! =`$(\"End;`)2\"` k!`(N* !=`!!#` _(` 6+`)N$`!6>` ?$rt` c%`!\"0,` q>`\":%`'#3request update\"});}}function process3DModel(obj) {var view`'`$Data`*d'`)%#Data`0=\"`$L$` 9%` 0#` H&`\"-)`(>$`)d%Data.byteL`+u! / (8 * 3`.l=`&@\"` g2> 0`$&$boundingbox = {xMinimum:`!W%.` +$, y` +.` +$, z` +.` +$, `($$` j)` -\", y` +.` +$, z` +.` +$};view = new`\"`)(`#1&`,M#` +\"`$c! =`$[!`'|D` 5!flagMeshInitialzed = false`-;4mesh`%y$ed`&*+ini`'O'`'E,`)*!Size`&G#a, b, entries, subE` $$obj, key` 1\"K` $!`$f'`*'!, interval;` +,`\"Q$` -';` E$ = Math.max(` H,`$S% -` ~-`%d'` F6`$w$` L0`&(&` *-`%1$` C0`&D$))`!y&/=`15%`#W\"`$H\"overallProgress = 0` $1Prev = -1`%;&Is`$P$`%1-`(v!To` ;!.cache`.a)`%V)msg:\"`%9*`%1\" size: \" +`$M%}`)~'`,() {keys = Object.keys` 4/;`%s# =`%e!.l`+C!;for (a`\"W! a <`&8$; a += 1) {if (`+V\"is`(q\"` l-[keys[a]]))`0a!`&)$` /1;`'0&`-=#`!D#`\":!` 2&> 0 && typeof obj[0] === \"o`\"D!\") {`!y!b`!x\"b <`(*'; b`!y$`3=&[b];}}}` *#`!H7}` +-`$]$` %1{`&1*:`){,`3B!`.O#:0`*0':-1` 7#` F!:0`0g$:null` %$Index:0`)x&:`%M$, scale:1, lookup`!:#[]` #*Export` 2!di`+x!aryL` F({}`+B!Outside` '*Counter:0, cleanUpFlagInit:true` -%` k\"`!!!`.,!:`-|/, maxDepth:0, offsetX:`+#9` ?\"Y` 10`*{&` ?\"Z` 10`15&`#e!`+6#Horizonta`#q!` .(Vertic` &.`!o#}`02=`/u4request update`0(!`0#%`%N!izeMesh(`/k#`&:(`/=#width, height, depth`/X0`%s\"`!y#`\" #Start`&_#` ,#End` (%`,T#, xFactor, yF` \"#z` #\";`!@-`*50`0ZA`!Z\"` 1%`4-&;`!Z-`*\"`!**.`(f(` M\"`\"!& =`\">. +`!$\"NUMBER_OF_POLYGONS_PER_CYCLE`+|!` \\,>` R\"`**$` 0#s) {`!$.` 51;}` D!`3@$sqrt(` %!pow`-x.`\"3\"`&r- + 1, 2) +` `\"` :>`'=$` (N`'b!` O$) / 1.5`2q#` G(`+t!`\"M$OBJECT_SIZE /`#x\";`& # =`*(0`4G6`*P$;`&W#` L0y` E7`*k$;`'.#` L0z` E7`+&$`!w%/=`(*$ +`&U1`.e\" * 0.99`!n%/=`(X$` 2A`!f$/=`)&$` 2A`2\\!`)s#`'d0;`*/$ <`*B,` 1&`3!#`3{!`'/0 - 1 <= 0) {`%C\"verallProgress = 0.5;} else` *5`!&$* (0.5 /` r7));}`!E%` Z,-`+l#` )*Prev >= 0.01 ||`!%%==`)A3`!#!`!W2` g!`,r$` -*`/C4p`!V$`/@$r\", ` -$`2b\"` [+})`*p&`\"q&24` z$` -!To`%;!(`%7.`33# +`/d#[` f\"+ 0] *`/9&` A4Y` G.1] *`/i&` A4Z` G.2] *`'-$`12$` 4%6]` \"-7]` e6`!~/8`!YT9`!YT1`#?!`!z414`\"!.15`!fJ16`#mU7`!]U`#D!`!~422`\"$.23]);}`3_:`+m$`+M'`330`).5) {width =`,y1`2U4;height` 5=`2[(;d`25!` 3<`2W%`\"$!`!p!`*0!Size >`-e\"` 1!cleanUp()`)m\"flagIsOptimized = true`-H*` 2.false;}` 3'`!S$` Y%` 7!stat`3f%STATE_VOXELIZER_GENER` *%_MESH`-v'`#k$` t!s !`$#$`4b)` 7*`\";$` y9IDLE`!T%rt` c%`!\"0,` q>`\"|*`.1.request update\"});}}function `$#% {var a, id`(9!`(>!Lkp,`'!\", sample, ` \"\"First` %$Second, counter, entries, x, y, z, xx, yy, zz`))/, lookup` 6!Outside`\"7\"` 8#areas, fnIsMesh` 7!, type, fnNullofy` /#minimum`0a!p, i` F(id` \"'`!g#Tot`!8&A`!#\"objArea`\"U#`(X&` *#`(5$` (#`'t!;`\"%-`2a%` .';`!v) = `$ %(id`#z&`#.%`!s';`!'`'w%a = parseInt(id);x = (a >> 0 & 1023) - 2;y` /%1` +*z` 0%2` +*if (x >= 0 && y ` \"$z` %!) {id = \"\" + (z << 20 | y << 10 | x)`*^&`'2)di`\"M!aryL`#o!`%$\"[id]) {`\"7*`*c\"}return`\"`)};`%**`#52`'4#`#E&dGrid;`/\"\"`#&0` 4\"`#(2` 3%`#.0` 4%`#)9x <`.dG`#j)y` 9>`/+%`$=%` $\"` 8=`'<!`$m!Gr`$T>`$GGGrid] = -1;}};`*o#`0T1`)9\"` S\".leng`(l\"`*[.` I1` :,;for (a = 0; a <`,)$; a +`1D\"`,x\"`!+=[a]`%i\"`$-'` O!Lkp.h` +%` >\"`#x%` 9%v` +#` :\"`2|\"` 4%`3R!;`#f'2 +`+G'`#u%` .%` w%`$&$` 1%`!T&)`#!2[`$#\"0`\"t\"`/9'`\"~\"` %(< 6` #*`#+#x =` }0 +` a+== 0 ? 1 :` Y)=== 1 ? -1 : 0)`(o!`\"(.` Z/2` V33` b'z` a(`#8\"` W/4` S35` _'`,PB`#J6!=`-X\"`#j81;}`#|'`38\"`#|(` +#`#~'` +#`$\"$x = x`\"8&` Z$`#i-` .'`#n)y = y` K1`#_*` .'`#a)z = z` K1`#U*` .'`#L4`#Z'`#['`#`#!`#11.hasOwnProperty`/j!|| `#X6>`*J$`#y52;}}}}counter`(>&prop in` e2) {` I$+`$o!` '#To`*\"0;do {minimum = 1000` QCz = ` ?!`0e(`\"m!z < ` l#)` q(z`2,%`\"12prop];}}objArea =` T%`(I!:null,` r$Id` )#`-T$s:{}};`-R\" = []`$]\"Object.keys`'|2)[`!Q!];type`!C5id];delete` &7if (fnIsMesh` 7!`%2!=== false`$z\"Area`1R%s`$u#type;}`!w\"[0] = id`$6!`!!` /%`\"8#.shift()`#G%parseInt(id);x =`+^\" >> `$0%y` *(1` .%z` +(`$Y*x < `!h$xM`$g%` #, = x;}if (y` F'y` ?.` +$ = y` K\"z` F'z` ?.` +$`%v!`,\"(`+|(`+v(`+d4`+c/`+O=`+W/`+C=`+K/`*~V`+/D) {`&X^`&[9`,~$` =!`)F( || z`$Y(` 1(`$^'` G)= zz`!'%`*$%`'l\"`'z$`'`#length`('#}}} while (` 2) > 0)`,M\"a`%S\"a < 2; a`%G$`#n!a`%<%`!*.:`*v,`\"^*)[0`*6\"id) {`+U)`\"n(` G%`$/2self.postMessage({err:\"'id' not present \" + id}`%?\"`!p\"`\" !`%M\"`$3/!== 2) {fnNullofy`+r%`#/!else`!n$`*Y~`+9>`)&~`)&~`)YK`%;@`%$&0) {`$O$`$_S`*F&` H.`&-'0 && `1V7 ||`(Q#1`'p%`)D4`)A8` 3(`3m?0]);}function polygonTo`![\"x0, y0, z0, u0, v0, x1, y1, z1, u1, v1, x2, y2, z2, u2, v2) {var value, fnValidateP` {\",`(%#Entries, objLkp, fnStor`!]\", di`!R!ary`!i!` N$`!v'` U!` +!izer` ,#interv` F&`!.#s;` ;- = `+&!` -(;` W$`/`\"` C*.` 5$;`!M+` 81` 8(`!o&`*W#`!{'` H1` :(;`\"l( = `$H%(hor, ver, dep`#o#id,`*g\"`(M(dep + 0`(X\") | ver` )$`(_!ho` +!`'.!`\".+`(S/`'/&) {`,X$`\"(-`&s#`\"@.[` N!] = {horizontal:`\"%$tical:`\".$th:dep}`#b,`3/#`\"C\"}};`&4-`\"{)`'?(`'7(`'1&`#6#flag;flag `\"9#`\"l!Math.abs(x0 - x1) <= 1 && ` ++2` '/y0 - y` @0` 4\"` @0z0 - z` @0` 4\"` M#`,0!`%Q&`\"<')`%g)(`\"J&` ),`\"W&`\"O$true;}return`\"j\"}`$[#`(b$ = [[x0 /`)!'y0` \")z` 0*x1` ?*1` ?*` 0*x2` ?*2` ?*` #(]`.>\"!`*\"!`,Q*.cache) {` #5 = {}`*d..`&/!MaximumH`&v%`'X%`\"^$[0][0]`4:!` F;V`'M#` N11` >ADepth` K12` Y#}`.I! =`%e\"max`08#`!a*,` #83]`-d,[0][6]));` u$` \"\"`!,!if (` (#`-U1`#10) {`#EG` y!`!tA1`!{:4`\"$17`!X]`$q$`!v=`%7'`!kF2`!w:5`\" 18`!T]`&F!`!q=`&i$`\"(#`!C\"Entries`&w-`0!$do` r!Lkp`'70;x0`2e\"Lkp` *!1` %&3];x2` %&6];y` B'1];y` B'4];y` B'7];z` B'2];z` B'5];z` B'8]`,~+.shift()` 0#`\";$-= 1`#P!`1(-(x0`#n!`-O!` #\"z` *$x1` 3$1` 3$` *$x2` 3$2` 3$` #\"`3_*`#6%[];`#\"% = x`+=!`\"g\" = y` &%2] = z` &%3` G\" + 0.5 * (x1 - x0)` 9$4` Y\"` 7&y1 - y` 7&5` k\"` 7&z1 -`1.!`$4%` s,2` u*7` r-2` u*8` r-2` |#`#\\2`\"_&`#4\"`\"`&` #)`-d#` '%3` 1+4` 1+5` 1+6` 1+7` 1+8` *\"`$C*`'X+`%y)]`&O%`&/++= 1;}`$r6`$E6`%7#`$E6`%I#`$E6`%\\\"1`%B*` &%`%8\"` &%`%&\"1`$|,1`$}+` 6'`%&\"` 7&`%&\"` 6'`%&\"1`$*~`$*~`$*~`$Fb`$E6`%7#`$E6`%I#`$L/`)l~`$`~`$`~`$sk`#M+`%P.`#M+`%P.`#T$`$`~`%T*2`%B*` &%`%8\"2`$*~`$*~`$bF}} while (` 0*> 0)` J#` p$ = null;}function startVoxelizer(numberOf` -!s, voxelSize, flagForceUpdate) {if (self.flagMeshInitialzed`\"2& && ` @!state` 3!` *!STATE_VOXELIZER_IDLE` m#` {+` O!true || !` X!obj`!k% ||` l\"`!n* !`!\"$` A(` 6+) {`!T$rtProcesses`\"/\"`!P-NIT` )\"_DATA, {` ^*:`##5:`#=%});} else `#3%` 3%`!l!` %%`!R$` 5&` 2'`'[!`#q%Is`\"7$`#q\"tru` V%`!u@GENER` *%_MESH);}}` G!u`#}!` W&);}}onmessage = `%%(e) {var data = e.data;switch (data.cmd) {case \"`\"'!_size\":`%cA`\"]0` q!`\"h*` %* >= 1`&Y%`%<)` :&<` 8'`#+A`(E&`&E/,`!G+,` Z\"`%'-`#au`$?5break;`#y\"init`&*\"izer`#TK`(z+`$!#` (*`!A\"`$27`#;0` U/`#=.` +!`+},;`\"1)p`\"R\"_3dmodel\":`\"\"5`#n!`!A'`#\\1INITIALIZE`#^!, {buffer:`!F!` &\", dimension` 1\"` &%}`#z5`!g(` /+`!l#`# f`! :test\":` ,\"default`!;\"postM`*H\"({err:\"Unknown command: \" +`!,\"msg});}}`!+\"` L*vent:\"ready\"});"))